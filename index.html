<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TikTok Report ‚Ä¢ SniperSpy</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
        body { font-family: 'Inter', system-ui, sans-serif; }
        .glass { background: rgba(30, 42, 68, 0.92); backdrop-filter: blur(20px); }
        .neon-glow { box-shadow: 0 0 30px rgba(0, 255, 200, 0.5); }
        .spinner { width: 28px; height: 28px; border: 4px solid rgba(0,255,200,0.2); border-top: 4px solid #00ffcc; border-radius: 50%; animation: spin 0.9s linear infinite; }
        @keyframes spin { to { transform: rotate(360deg); } }
    </style>
</head>
<body class="bg-gradient-to-br from-[#0a1428] to-[#1a2540] min-h-screen flex items-center justify-center p-4">
    <div class="w-full max-w-[380px] md:max-w-[460px] glass rounded-3xl overflow-hidden neon-glow border border-cyan-400/40">
        
        <div class="bg-[#0f1829] px-6 py-4 flex items-center justify-between border-b border-cyan-400/30">
            <div class="flex items-center gap-3">
                <div class="w-8 h-8 bg-gradient-to-br from-cyan-400 to-blue-500 rounded-2xl flex items-center justify-center text-xl font-bold text-black">S</div>
                <div class="text-white font-bold text-xl tracking-tighter">SNIPERSPY</div>
            </div>
            <button onclick="window.close()" class="text-white/70 hover:text-white text-3xl">√ó</button>
        </div>

        <div class="p-6 space-y-6">
            <div>
                <div class="text-xs text-cyan-400 mb-1.5">USERNAME (@username)</div>
                <input id="username" type="text" value="@jack.patek8" 
                       class="w-full bg-[#0f1829] text-white rounded-2xl px-5 py-4 border border-cyan-400/30 focus:border-cyan-400"
                       placeholder="@jack.patek8"
                       onblur="fetchRealProfile()">
            </div>

            <div id="profileLoading" class="hidden flex items-center gap-3 text-cyan-400 text-sm">
                <div class="spinner"></div>
                <span>ƒêang l·∫•y th√¥ng tin k√™nh...</span>
            </div>

            <div id="profileReal" class="hidden glass rounded-3xl p-5">
                <div class="flex gap-4">
                    <img id="avatar" src="" class="w-20 h-20 rounded-3xl border-4 border-cyan-400/50">
                    <div class="flex-1">
                        <div id="displayName" class="text-2xl font-bold text-white"></div>
                        <div id="usernameShow" class="text-cyan-400"></div>
                    </div>
                </div>
                <div class="grid grid-cols-3 gap-4 mt-6 text-center">
                    <div><div id="followers" class="font-bold text-white text-2xl"></div><div class="text-xs text-cyan-400/70">Followers</div></div>
                    <div><div id="following" class="font-bold text-white text-2xl"></div><div class="text-xs text-cyan-400/70">Following</div></div>
                    <div><div id="videoCount" class="font-bold text-white text-2xl"></div><div class="text-xs text-cyan-400/70">Videos</div></div>
                </div>
                <div id="bio" class="mt-4 text-xs text-cyan-400/80"></div>
            </div>

            <button onclick="showUsersProxy()" class="w-full py-4 bg-[#2e3f5e] hover:bg-[#3a4e72] rounded-2xl font-semibold text-white">Users + Proxy</button>
            <div id="usersProxyLog" class="hidden bg-white/10 border border-cyan-400/30 rounded-2xl p-5 text-sm text-cyan-400"></div>

            <button onclick="startReport()" id="startBtn" class="w-full py-4 bg-gradient-to-r from-green-500 to-cyan-400 text-black font-bold rounded-2xl text-lg shadow-xl">üöÄ START REPORT</button>

            <div id="reportProgressContainer" class="hidden">
                <div class="h-2 bg-gray-700 rounded-full overflow-hidden">
                    <div id="reportProgressBar" class="h-full bg-green-500 transition-all duration-300" style="width:0%"></div>
                </div>
                <div class="flex items-center justify-center gap-3 mt-4">
                    <div class="spinner"></div>
                    <div id="loadingText" class="text-cyan-400 text-sm">ƒêang x·ª≠ l√Ω...</div>
                </div>
            </div>

            <div id="reportLog" class="hidden bg-white/10 border border-cyan-400/30 rounded-3xl p-5 h-72 overflow-y-auto text-sm"></div>
        </div>

        <div class="bg-[#0f1829] py-4 text-center text-xs text-cyan-400/70">Telegram: <a href="https://t.me/SniSpy777" class="underline">SniSpy777</a></div>
    </div>

    <script>
        // (Gi·ªØ nguy√™n to√†n b·ªô script nh∆∞ code tr∆∞·ªõc, kh√¥ng thay ƒë·ªïi)
        let usersCount = localStorage.getItem('usersCount') ? parseInt(localStorage.getItem('usersCount')) : 310499;
        let proxiesCount = localStorage.getItem('proxiesCount') ? parseInt(localStorage.getItem('proxiesCount')) : 284921;

        function playDing() { const ctx = new (window.AudioContext || window.webkitAudioContext)(); const osc = ctx.createOscillator(); osc.type = 'sine'; osc.frequency.value = 950; const gain = ctx.createGain(); gain.gain.value = 0.4; osc.connect(gain).connect(ctx.destination); osc.start(); setTimeout(() => osc.stop(), 80); }

        async function fetchRealProfile() { /* code fetch profile */ 
            const loading = document.getElementById('profileLoading');
            const profile = document.getElementById('profileReal');
            loading.classList.remove('hidden');
            profile.classList.add('hidden');

            let username = document.getElementById('username').value.trim().replace('@','');
            if (!username) { loading.classList.add('hidden'); return; }

            try {
                const proxyUrl = `https://api.codetabs.com/v1/proxy?quest=` + encodeURIComponent(`https://tikwm.com/api/user/info?unique_id=${username}`);
                const res = await fetch(proxyUrl);
                const data = await res.json();

                if (data.data && data.data.user) {
                    const u = data.data.user;
                    const s = data.data.stats || {};
                    document.getElementById('avatar').src = u.avatarLarger || u.avatarMedium;
                    document.getElementById('displayName').textContent = u.nickname || username;
                    document.getElementById('usernameShow').textContent = '@' + u.uniqueId;
                    document.getElementById('followers').textContent = Number(s.followerCount || 0).toLocaleString();
                    document.getElementById('following').textContent = Number(s.followingCount || 0).toLocaleString();
                    document.getElementById('videoCount').textContent = Number(s.videoCount || 0).toLocaleString();
                    document.getElementById('bio').textContent = u.signature || 'Kh√¥ng c√≥ bio';
                    profile.classList.remove('hidden');
                }
            } catch (e) {
                alert("L·ªói proxy. H√£y b·∫•m n√∫t 'M·ªü TikTok th·ªß c√¥ng' b√™n d∆∞·ªõi.");
            } finally {
                loading.classList.add('hidden');
            }
        }

        function showUsersProxy() {
            const box = document.getElementById('usersProxyLog');
            box.innerHTML = `<div>[ OK ] - ${usersCount} Users Found!</div><div>[ OK ] - ${proxiesCount} Proxy Found!</div>`;
            box.classList.remove('hidden');
        }

        function startReport() { /* code startReport */ 
            if (document.getElementById('startBtn').disabled) return;
            document.getElementById('startBtn').disabled = true;

            const logDiv = document.getElementById('reportLog');
            const progressContainer = document.getElementById('reportProgressContainer');
            const progressBar = document.getElementById('reportProgressBar');
            const loadingText = document.getElementById('loadingText');

            logDiv.classList.remove('hidden');
            progressContainer.classList.remove('hidden');
            logDiv.innerHTML = '';
            progressBar.style.width = '0%';

            const total = Math.floor(Math.random() * 26) + 20;
            let current = 0;

            function processNext() {
                if (current >= total) {
                    const final = document.createElement('div');
                    final.className = "font-bold text-green-400";
                    final.textContent = '[ OK ] - Successfully reported! 100%';
                    logDiv.appendChild(final);
                    logDiv.scrollTop = logDiv.scrollHeight;
                    playDing();
                    usersCount = Math.max(0, usersCount - total);
                    proxiesCount = Math.max(0, proxiesCount - total);
                    localStorage.setItem('usersCount', usersCount);
                    localStorage.setItem('proxiesCount', proxiesCount);
                    document.getElementById('startBtn').disabled = false;
                    progressContainer.classList.add('hidden');
                    return;
                }

                current++;
                progressBar.style.width = `${(current / total) * 100}%`;
                loadingText.textContent = 'ƒêang x·ª≠ l√Ω...';

                const delay = Math.floor(Math.random() * 3500) + 1500;

                setTimeout(() => {
                    const line = document.createElement('div');
                    line.textContent = '[ OK ] - Successfully reported!';
                    logDiv.appendChild(line);
                    logDiv.scrollTop = logDiv.scrollHeight;
                    playDing();
                    processNext();
                }, delay);
            }

            processNext();
        }
    </script>
</body>
</html>
